function render_form_success(r){var e=r.data("message"),a=r.data("download");r.html("<p>"+e+"</p>"),a&&downloadURI(a)}function render_form_errors(r,o){var e=r.responseJSON;o.find(".form-error").remove(),jQuery.each(e,function(r,e){var a=r,n="<span class=form-error>"+e[0]+"</span>";o.find("input[name="+a+"],textarea[name="+a+"]").after(n)})}function downloadURI(r){var e=document.createElement("a");e.download="ExO-Canvas.pdf",e.href=r,e.click()}$(function(){$(".custom_form").submit(function(r){r.preventDefault(),r.stopPropagation();var e=$(this),a=e.serialize(),n=e.attr("action");$.ajax({type:"post",url:n,data:a,dataType:"json",success:function(r){render_form_success(e)},error:function(r){render_form_errors(r,e)}})})});